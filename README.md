# M3U8 ä»£ç†æœåŠ¡å™¨

ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ M3U8 æµåª’ä½“ä»£ç†æœåŠ¡å™¨ï¼Œæ”¯æŒæ™ºèƒ½å¹¿å‘Šè¿‡æ»¤ã€ç¼“å­˜ç®¡ç†ã€å®æ—¶ç›‘æ§å’Œç°ä»£åŒ– Web ç®¡ç†ç•Œé¢ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

M3U8 Proxy Server æ˜¯ä¸“ä¸ºæµåª’ä½“å†…å®¹ä»£ç†å’Œå¹¿å‘Šè¿‡æ»¤è®¾è®¡çš„é«˜æ€§èƒ½ Node.js æœåŠ¡å™¨ã€‚é€šè¿‡å…ˆè¿›çš„ TS å…ƒæ•°æ®æ£€æµ‹æŠ€æœ¯ï¼Œå®ç°äº†å¯¹æµåª’ä½“ä¸­å¹¿å‘Šå†…å®¹çš„ç²¾ç¡®è¯†åˆ«å’Œè¿‡æ»¤ï¼ŒåŒæ—¶æä¾›å®Œæ•´çš„ç¼“å­˜ç­–ç•¥å’Œç”¨æˆ·å‹å¥½çš„ç®¡ç†ç•Œé¢ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ™ºèƒ½å¹¿å‘Šè¿‡æ»¤
- **å¤šç»´æ£€æµ‹æ¨¡å¼**ï¼šåŸºäº URL æ¨¡å¼åŒ¹é…å’Œ TS å…ƒæ•°æ®åˆ†æçš„æ··åˆæ£€æµ‹
- **TS å…ƒæ•°æ®åˆ†æ**ï¼š7 ç»´åº¦ç‰¹å¾æ£€æµ‹ï¼ˆåˆ†è¾¨ç‡ã€ç ç‡ã€æ—¶é•¿ã€ç¼–ç æ ¼å¼ç­‰ï¼‰
- **æ™ºèƒ½ç¼“å­˜æœºåˆ¶**ï¼šæ£€æµ‹ç»“æœç¼“å­˜ï¼Œé¿å…é‡å¤åˆ†æï¼Œæå‡æ€§èƒ½
- **è‡ªå®šä¹‰è§„åˆ™æ”¯æŒ**ï¼šæ”¯æŒæ­£åˆ™è¡¨è¾¾å¼çš„è‡ªå®šä¹‰è¿‡æ»¤è§„åˆ™
- **å®æ—¶ç»Ÿè®¡ç›‘æ§**ï¼šè¯¦ç»†çš„è¿‡æ»¤æ•ˆæœå’Œæ€§èƒ½æŒ‡æ ‡

### âš¡ é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ
- **åŒå±‚ç¼“å­˜æ¶æ„**ï¼šå†…å­˜ç¼“å­˜ + æŒä¹…åŒ–å­˜å‚¨
- **æ™ºèƒ½ TTL ç­–ç•¥**ï¼šæ ¹æ®æ–‡ä»¶ç‰¹æ€§åŠ¨æ€è°ƒæ•´ç¼“å­˜æ—¶é—´
- **LRU æ·˜æ±°ç®—æ³•**ï¼šé«˜æ•ˆçš„ç¼“å­˜ç©ºé—´ç®¡ç†
- **ç¼“å­˜é¢„çƒ­æœºåˆ¶**ï¼šæ”¯æŒçƒ­ç‚¹å†…å®¹é¢„åŠ è½½

### ğŸŒ ç°ä»£åŒ– Web ç•Œé¢
- **React + TypeScript**ï¼šåŸºäºç°ä»£æŠ€æœ¯æ ˆçš„ç®¡ç†ç•Œé¢
- **å“åº”å¼è®¾è®¡**ï¼šæ”¯æŒæ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯è®¿é—®
- **å®æ—¶æ•°æ®å±•ç¤º**ï¼šç³»ç»ŸçŠ¶æ€ã€ç»Ÿè®¡ä¿¡æ¯å®æ—¶æ›´æ–°
- **å†…ç½® HLS æ’­æ”¾å™¨**ï¼šæ”¯æŒæµåª’ä½“ç›´æ¥æ’­æ”¾å’Œæµ‹è¯•

### ğŸ”§ ç³»ç»Ÿç®¡ç†åŠŸèƒ½
- **å¥åº·æ£€æŸ¥æ¥å£**ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- **æ—¥å¿—ç®¡ç†ç³»ç»Ÿ**ï¼šåˆ†çº§æ—¥å¿—è®°å½•å’Œè½®è½¬
- **API æ¥å£å®Œæ•´**ï¼šæä¾›å®Œæ•´çš„ RESTful API
- **å®‰å…¨é˜²æŠ¤æœºåˆ¶**ï¼šé€Ÿç‡é™åˆ¶ã€CORS æ§åˆ¶ã€è¾“å…¥éªŒè¯

## ğŸ›  æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Node.js** - æœåŠ¡å™¨è¿è¡Œç¯å¢ƒ
- **Express.js** - Web åº”ç”¨æ¡†æ¶
- **Axios** - HTTP å®¢æˆ·ç«¯
- **express-rate-limit** - é€Ÿç‡é™åˆ¶ä¸­é—´ä»¶

### å‰ç«¯æŠ€æœ¯
- **React 18** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨çš„ JavaScript
- **Vite** - ç°ä»£åŒ–æ„å»ºå·¥å…·
- **Tailwind CSS** - å®ç”¨ä¼˜å…ˆçš„ CSS æ¡†æ¶
- **HLS.js** - HTTP Live Streaming å®¢æˆ·ç«¯åº“
- **React Router** - å‰ç«¯è·¯ç”±ç®¡ç†
- **TanStack Query** - æ•°æ®è·å–å’ŒçŠ¶æ€ç®¡ç†

### å¼€å‘å·¥å…·
- **Nodemon** - å¼€å‘ç¯å¢ƒè‡ªåŠ¨é‡å¯
- **ESLint** - ä»£ç è´¨é‡æ£€æŸ¥
- **PostCSS** - CSS åå¤„ç†å™¨

## ğŸ“¦ ç¯å¢ƒè¦æ±‚

- **Node.js**: >= 14.0.0
- **npm**: >= 6.0.0 æˆ– **yarn**: >= 1.22.0

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/levarsi/m3u8-proxy.git
cd m3u8-proxy
```

### 2. å®‰è£…ä¾èµ–
```bash
# å®‰è£…åç«¯ä¾èµ–
npm install

# å®‰è£…å‰ç«¯ä¾èµ–
npm run ui:install
```

### 3. å¯åŠ¨æœåŠ¡

#### å¼€å‘æ¨¡å¼
```bash
# å¯åŠ¨åç«¯æœåŠ¡ï¼ˆå¼€å‘æ¨¡å¼ï¼Œæ”¯æŒçƒ­é‡è½½ï¼‰
npm run dev

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼ˆæ–°ç»ˆç«¯çª—å£ï¼‰
npm run ui:dev
```

#### ç”Ÿäº§æ¨¡å¼
```bash
# æ„å»ºå‰ç«¯èµ„æº
npm run ui:build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start
```

### 4. è®¿é—®åº”ç”¨
- **Web ç®¡ç†ç•Œé¢**: http://localhost:3000
- **API æ¥å£**: http://localhost:3000/api
- **å¥åº·æ£€æŸ¥**: http://localhost:3000/health

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
åˆ›å»º `.env` æ–‡ä»¶æˆ–è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
# æœåŠ¡å™¨é…ç½®
PORT=3000                          # æœåŠ¡ç«¯å£
HOST=127.0.0.1                    # ç›‘å¬åœ°å€
NODE_ENV=production                # è¿è¡Œç¯å¢ƒ

# å¹¿å‘Šè¿‡æ»¤é…ç½®
AD_FILTER_ENABLED=true             # å¯ç”¨å¹¿å‘Šè¿‡æ»¤
AD_FILTER_LOG_LEVEL=info          # è¿‡æ»¤æ—¥å¿—çº§åˆ«

# ç¼“å­˜é…ç½®
CACHE_ENABLED=true                 # å¯ç”¨ç¼“å­˜
CACHE_TTL=300000                   # ç¼“å­˜æœ‰æ•ˆæœŸï¼ˆæ¯«ç§’ï¼‰
CACHE_MAX_SIZE=100                 # æœ€å¤§ç¼“å­˜æ¡ç›®æ•°

# å®‰å…¨é…ç½®
RATE_LIMIT_ENABLED=true            # å¯ç”¨é€Ÿç‡é™åˆ¶
RATE_LIMIT_WINDOW=60000            # é€Ÿç‡é™åˆ¶çª—å£ï¼ˆæ¯«ç§’ï¼‰
RATE_LIMIT_MAX=100                 # çª—å£å†…æœ€å¤§è¯·æ±‚æ•°

# CORS é…ç½®
CORS_ENABLED=true                  # å¯ç”¨ CORS
CORS_ORIGIN=*                      # å…è®¸çš„æº
```

### è¯¦ç»†é…ç½®æ–‡ä»¶
ç¼–è¾‘ `config.js` è¿›è¡Œè¯¦ç»†é…ç½®ï¼š

```javascript
module.exports = {
  // æœåŠ¡å™¨é…ç½®
  server: {
    port: 3000,
    host: '127.0.0.1',
    autoOpenBrowser: false
  },
  
  // å¹¿å‘Šè¿‡æ»¤é…ç½®
  adFilter: {
    patterns: [
      /ad_/i, /promo/i, /shop/i, /advert/i,
      /commercial/i, /sponsor/i, /banner/i
    ],
    enabled: true,
    logLevel: 'info',
    customPatterns: []
  },
  
  // ç¼“å­˜é…ç½®
  cache: {
    enabled: true,
    ttl: 300000,
    maxSize: 100,
    persistence: true
  },
  
  // å®‰å…¨é…ç½®
  security: {
    allowedProtocols: ['http:', 'https:'],
    rateLimit: {
      enabled: true,
      windowMs: 60000,
      max: 100
    }
  }
};
```

## ğŸŒ API æ¥å£

### æ ¸å¿ƒä»£ç†æ¥å£
```http
GET /proxy?url={m3u8_url}
```
ä»£ç†å’Œè¿‡æ»¤ M3U8 æ’­æ”¾åˆ—è¡¨

**å‚æ•°**:
- `url` (å¿…éœ€) - ç›®æ ‡ M3U8 æ–‡ä»¶çš„ URL

**å“åº”å¤´**:
- `Content-Type: application/vnd.apple.mpegurl`
- `X-Processed-By: M3U8-Proxy`
- `X-Processing-Time` - å¤„ç†è€—æ—¶
- `X-Segment-Count` - ç‰‡æ®µæ•°é‡

### ç³»ç»Ÿç®¡ç†æ¥å£
```http
GET  /health              # ç³»ç»Ÿå¥åº·æ£€æŸ¥
GET  /cache/stats         # ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯
GET  /cache/clear         # æ¸…é™¤ç¼“å­˜
GET  /logs                # è·å–ç³»ç»Ÿæ—¥å¿—
POST /api/settings        # æ›´æ–°ç³»ç»Ÿé…ç½®
```

### å¹¿å‘Šè¿‡æ»¤æ¥å£
```http
GET  /ad-filter/rules           # è·å–è¿‡æ»¤è§„åˆ™
POST /ad-filter/rules          # æ·»åŠ è¿‡æ»¤è§„åˆ™
GET  /ts-detector/stats        # TS æ£€æµ‹ç»Ÿè®¡
POST /ts-detector/config       # æ›´æ–°æ£€æµ‹é…ç½®
```

### æµ‹è¯•æ¥å£
```http
GET /mock-stream.m3u8    # è·å–åŒ…å«å¹¿å‘Šçš„æµ‹è¯•æµ
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### 1. ä»£ç† M3U8 æµ
```bash
# åŸºç¡€ä»£ç†
curl "http://localhost:3000/proxy?url=https://example.com/stream.m3u8"

# ä½¿ç”¨æµ‹è¯•æµéªŒè¯å¹¿å‘Šè¿‡æ»¤
curl "http://localhost:3000/proxy?url=http://localhost:3000/mock-stream.m3u8"
```

### 2. ç³»ç»ŸçŠ¶æ€æŸ¥è¯¢
```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:3000/health

# ç¼“å­˜çŠ¶æ€
curl http://localhost:3000/cache/stats
```

### 3. å‰ç«¯ç•Œé¢ä½¿ç”¨
1. è®¿é—® http://localhost:3000
2. åœ¨"æµ‹è¯•/æ’­æ”¾"é¡µé¢è¾“å…¥ M3U8 URL
3. æŸ¥çœ‹è¿‡æ»¤ç»“æœå’Œç»Ÿè®¡ä¿¡æ¯
4. ä½¿ç”¨å†…ç½®æ’­æ”¾å™¨æµ‹è¯•æ’­æ”¾æ•ˆæœ

### 4. è‡ªå®šä¹‰å¹¿å‘Šè¿‡æ»¤è§„åˆ™
```javascript
// åœ¨ config.js ä¸­æ·»åŠ è‡ªå®šä¹‰è§„åˆ™
adFilter: {
  customPatterns: [
    /custom_ad_pattern/i,
    /specific_brand/i
  ]
}
```

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæµ‹è¯•å¥—ä»¶
```bash
# TS æ£€æµ‹åŠŸèƒ½æµ‹è¯•
node test-ts-detection.js

# ç³»ç»Ÿé›†æˆæµ‹è¯•
node test-integration.js

# çœŸå®åœºæ™¯æ¨¡æ‹Ÿæµ‹è¯•
node test-real-scenario.js
```

### æµ‹è¯•è¦†ç›–ç‡
- âœ… TS å…ƒæ•°æ®æ£€æµ‹ï¼š100% åŠŸèƒ½è¦†ç›–
- âœ… å¹¿å‘Šè¿‡æ»¤é€»è¾‘ï¼š100% åœºæ™¯è¦†ç›–
- âœ… ç¼“å­˜ç³»ç»Ÿï¼šå®Œæ•´æ€§æµ‹è¯•
- âœ… API æ¥å£ï¼šç«¯åˆ°ç«¯æµ‹è¯•

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### å¤„ç†æ€§èƒ½
- **M3U8 å¤„ç†å»¶è¿Ÿ**: < 10ms
- **TS æ£€æµ‹åˆ†æ**: ~0ms (ç¼“å­˜å‘½ä¸­)
- **å¹¶å‘å¤„ç†èƒ½åŠ›**: 100+ req/s
- **å†…å­˜ä½¿ç”¨**: < 100MB (æ­£å¸¸è´Ÿè½½)

### ç¼“å­˜æ•ˆç‡
- **ç¼“å­˜å‘½ä¸­ç‡**: > 85%
- **ç¼“å­˜å“åº”æ—¶é—´**: < 1ms
- **ç¼“å­˜å­˜å‚¨**: æ”¯æŒæŒä¹…åŒ–

### å¹¿å‘Šè¿‡æ»¤æ•ˆæœ
- **æ£€æµ‹å‡†ç¡®ç‡**: > 95%
- **è¯¯æŠ¥ç‡**: < 2%
- **è¿‡æ»¤è¦†ç›–**: æ”¯æŒå¤šç§å¹¿å‘Šç±»å‹

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
m3u8-proxy-demo/
â”œâ”€â”€ é…ç½®æ–‡ä»¶/
â”œâ”€â”€ package.json                       # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ package-lock.json                  # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ .gitignore                         # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ config.js                          # åº”ç”¨é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ æ ¸å¿ƒæœåŠ¡æ¨¡å—/
â”œâ”€â”€ server.js                          # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ m3u8-processor.js                  # M3U8 æ’­æ”¾åˆ—è¡¨å¤„ç†å™¨
â”œâ”€â”€ cache-manager.js                   # ç¼“å­˜ç³»ç»Ÿç®¡ç†å™¨
â”œâ”€â”€ logger.js                          # æ—¥å¿—ç®¡ç†ç³»ç»Ÿ
â”œâ”€â”€ ts-metadata-detector.js            # TS å…ƒæ•°æ®æ£€æµ‹å™¨
â”‚
â”œâ”€â”€ å·¥å…·è„šæœ¬/
â”œâ”€â”€ start-with-ts-detection.js         # å¸¦ TS æ£€æµ‹çš„å¯åŠ¨è„šæœ¬
â”œâ”€â”€ debug-real-m3u8.js                 # çœŸå® M3U8 è°ƒè¯•å·¥å…·
â”œâ”€â”€ check-filtered.js                  # è¿‡æ»¤æ•ˆæœæ£€æŸ¥å·¥å…·
â”œâ”€â”€ emergency-fix.js                   # ç´§æ€¥ä¿®å¤è„šæœ¬
â”‚
â”œâ”€â”€ æµ‹è¯•æ¨¡å—/
â”œâ”€â”€ test/                              # æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ test-ts-detection.js           # TS æ£€æµ‹åŠŸèƒ½æµ‹è¯•
â”‚   â”œâ”€â”€ test-integration.js            # ç³»ç»Ÿé›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test-real-scenario.js          # çœŸå®åœºæ™¯æ¨¡æ‹Ÿæµ‹è¯•
â”‚   â””â”€â”€ test-fix.js                    # ä¿®å¤éªŒè¯æµ‹è¯•
â”‚
â”œâ”€â”€ æ–‡æ¡£/
â”œâ”€â”€ README.md                          # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ API.md                             # API æ¥å£æ–‡æ¡£
â”œâ”€â”€ CHANGELOG.md                       # ç‰ˆæœ¬æ›´æ–°æ—¥å¿—
â”œâ”€â”€ IFLOW.md                           # å·¥ä½œæµç¨‹æ–‡æ¡£
â”œâ”€â”€ docs/                              # è¯¦ç»†æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ AD-FILTER-UI-IMPLEMENTATION.md # å¹¿å‘Šè¿‡æ»¤UIå®ç°æ–‡æ¡£
â”‚   â”œâ”€â”€ IMPLEMENTATION-SUMMARY.md      # å®ç°æ€»ç»“
â”‚   â”œâ”€â”€ PROJECT-STATUS.md              # é¡¹ç›®çŠ¶æ€æ–‡æ¡£
â”‚   â”œâ”€â”€ TS-AD-FILTER-TECHNICAL-PLAN.md # TSå¹¿å‘Šè¿‡æ»¤æŠ€æœ¯æ–¹æ¡ˆ
â”‚   â””â”€â”€ TS-DETECTION-GUIDE.md          # TSæ£€æµ‹æŒ‡å—
â”‚
â”œâ”€â”€ å‰ç«¯åº”ç”¨/
â”œâ”€â”€ frontend/                          # React + TypeScript å‰ç«¯
â”‚   â”œâ”€â”€ package.json                   # å‰ç«¯ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ package-lock.json              # å‰ç«¯ä¾èµ–é”å®š
â”‚   â”œâ”€â”€ vite.config.ts                 # Vite æ„å»ºé…ç½®
â”‚   â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
â”‚   â”œâ”€â”€ tailwind.config.js             # Tailwind CSS é…ç½®
â”‚   â”œâ”€â”€ postcss.config.js              # PostCSS é…ç½®
â”‚   â”œâ”€â”€ index.html                     # å…¥å£ HTML æ–‡ä»¶
â”‚   â””â”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚       â”œâ”€â”€ main.tsx                   # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚       â”œâ”€â”€ router.tsx                 # è·¯ç”±é…ç½®
â”‚       â”œâ”€â”€ styles.css                 # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ lib/                       # å·¥å…·åº“
â”‚       â”‚   â”œâ”€â”€ http.ts                # HTTP å®¢æˆ·ç«¯
â”‚       â”‚   â””â”€â”€ utils.ts               # é€šç”¨å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ ui/                        # UI ç»„ä»¶åº“
â”‚       â”‚   â”œâ”€â”€ AppShell.tsx           # åº”ç”¨å¤–å£³ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ Button.tsx             # æŒ‰é’®ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ Modal.tsx              # æ¨¡æ€æ¡†ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ Panel.tsx              # é¢æ¿ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ PageHeader.tsx         # é¡µé¢å¤´éƒ¨ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ StatCard.tsx           # ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ States.tsx             # çŠ¶æ€ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ theme.tsx              # ä¸»é¢˜é…ç½®
â”‚       â”‚   â””â”€â”€ confirm.ts             # ç¡®è®¤å¯¹è¯æ¡†
â”‚       â””â”€â”€ views/                     # é¡µé¢è§†å›¾ç»„ä»¶
â”‚           â”œâ”€â”€ DashboardPage.tsx      # ä»ªè¡¨æ¿é¡µé¢
â”‚           â”œâ”€â”€ ProxyTestPage.tsx      # ä»£ç†æµ‹è¯•é¡µé¢
â”‚           â”œâ”€â”€ ProxyPlayerPage.tsx    # ä»£ç†æ’­æ”¾å™¨é¡µé¢
â”‚           â”œâ”€â”€ AdFilterPage.tsx       # å¹¿å‘Šè¿‡æ»¤é¡µé¢
â”‚           â”œâ”€â”€ CachePage.tsx          # ç¼“å­˜ç®¡ç†é¡µé¢
â”‚           â”œâ”€â”€ LogsPage.tsx           # æ—¥å¿—æŸ¥çœ‹é¡µé¢
â”‚           â”œâ”€â”€ PlayerPage.tsx         # æ’­æ”¾å™¨é¡µé¢
â”‚           â””â”€â”€ SettingsPage.tsx       # è®¾ç½®é¡µé¢
â”‚
â”œâ”€â”€ é™æ€èµ„æº/
â”œâ”€â”€ public/                            # é™æ€èµ„æºç›®å½•
â”‚   â”œâ”€â”€ index.html                     # ç”Ÿäº§ç¯å¢ƒå…¥å£HTML
â”‚   â””â”€â”€ assets/                        # æ„å»ºèµ„æº
â”‚       â”œâ”€â”€ index-B2GgB45Z.css         # æ ·å¼æ–‡ä»¶
â”‚       â””â”€â”€ index-lgE7_ScT.js          # JavaScriptæ–‡ä»¶
â”‚
â””â”€â”€

```

## ğŸ”§ å¼€å‘æŒ‡å—

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# å®‰è£…å¼€å‘ä¾èµ–
npm install --include=dev

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
npm run ui:dev
```

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥
- éµå¾ª JavaScript Standard Style
- TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- ç»„ä»¶å’Œå‡½æ•°æ·»åŠ  JSDoc æ³¨é‡Š

### æäº¤è§„èŒƒ
ä½¿ç”¨ Conventional Commits è§„èŒƒï¼š
```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤é—®é¢˜
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: ä»£ç é‡æ„
test: æµ‹è¯•ç›¸å…³
chore: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·å˜åŠ¨
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### è´¡çŒ®æ–¹å¼

1. **æŠ¥å‘Šé—®é¢˜**: åœ¨ GitHub Issues ä¸­æŠ¥å‘Š bug æˆ–æå‡ºåŠŸèƒ½å»ºè®®
2. **ä»£ç è´¡çŒ®**: Fork é¡¹ç›®ï¼Œåˆ›å»ºåˆ†æ”¯ï¼Œæäº¤ Pull Request
3. **æ–‡æ¡£æ”¹è¿›**: å®Œå–„æ–‡æ¡£ã€ç¤ºä¾‹å’Œæ•™ç¨‹
4. **æµ‹è¯•ç”¨ä¾‹**: æ·»åŠ æµ‹è¯•ç”¨ä¾‹æé«˜ä»£ç è¦†ç›–ç‡

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'feat: Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### å¼€å‘æ³¨æ„äº‹é¡¹

- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
- éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ–‡æ¡£å’Œæ³¨é‡Š
- æ›´æ–°ç›¸å…³çš„ API æ–‡æ¡£

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ†˜ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: ä»£ç†è¿”å› 502 é”™è¯¯**
A: æ£€æŸ¥ç›®æ ‡ M3U8 URL æ˜¯å¦å¯è®¿é—®ï¼Œç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

**Q: å¹¿å‘Šè¿‡æ»¤ä¸ç”Ÿæ•ˆ**
A: æ£€æŸ¥è¿‡æ»¤è§„åˆ™é…ç½®ï¼Œç¡®è®¤å¹¿å‘Šè¿‡æ»¤åŠŸèƒ½å·²å¯ç”¨

**Q: å‰ç«¯é¡µé¢æ— æ³•åŠ è½½**
A: ç¡®è®¤å‰ç«¯å·²æ­£ç¡®æ„å»ºï¼Œæ£€æŸ¥é™æ€æ–‡ä»¶æœåŠ¡é…ç½®

**Q: ç¼“å­˜å‘½ä¸­ç‡ä½**
A: è°ƒæ•´ç¼“å­˜ TTL æ—¶é—´ï¼Œæ£€æŸ¥ç¼“å­˜ç­–ç•¥é…ç½®

**Q: å†…å­˜ä½¿ç”¨è¿‡é«˜**
A: æ£€æŸ¥ç¼“å­˜é…ç½®ï¼Œè°ƒæ•´ç¼“å­˜å¤§å°é™åˆ¶

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è°ƒè¯•æ¨¡å¼è·å–è¯¦ç»†æ—¥å¿—ï¼š
```bash
DEBUG=true npm start
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep "ERROR" logs/app.log
```


**ç‰ˆæœ¬**: 2.0.0  
**æ›´æ–°æ—¶é—´**: 2025å¹´12æœˆ
**ç»´æŠ¤è€…**: M3U8 Proxy Development Team

æ„Ÿè°¢ä½¿ç”¨ M3U8 ä»£ç†æœåŠ¡å™¨ï¼å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸